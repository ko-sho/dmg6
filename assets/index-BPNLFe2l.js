var He=Object.defineProperty;var Ze=(t,n,o)=>n in t?He(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;var F=(t,n,o)=>Ze(t,typeof n!="symbol"?n+"":n,o);import{r as T,j as e,f as ee,g as xe}from"./react-vendor-BWhhx1ng.js";import{B as C,h as Q,T as v,I as re,S as fe,j as _,k as X,L as de,l as ue,m as ie,D as Me,n as ge,o as ke,p as be,q as E,P as N,t as J,v as G,w as y,x as h,y as z,F as P,z as D,A as R,M as A,O as ae,C as oe,E as ce,G as me,H as ye,J as ve,K as Se,N as we,Q as je,R as Te,U as Ce,V as Be,W as Ve}from"./vendor-CeTL6-Vm.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();class S{constructor(n,o,r){F(this,"category");F(this,"name");F(this,"levels");this.category=n,this.name=o,this.levels=r}}const Ae=new S("weapon","攻撃",[{level:1,skillBonuses:[{additionAttackBonus:3,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+3"}]},{level:2,skillBonuses:[{additionAttackBonus:5,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+5"}]},{level:3,skillBonuses:[{additionAttackBonus:7,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+7"}]},{level:4,skillBonuses:[{attackMultiplierBonus:1.02,additionAttackBonus:8,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+8、攻撃1.02倍"}]},{level:5,skillBonuses:[{attackMultiplierBonus:1.04,additionAttackBonus:9,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+9、攻撃1.04倍"}]}]),Le=new S("armor","火事場力",[{level:1,skillBonuses:[{attackMultiplierBonus:1,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃効果なし"}]},{level:2,skillBonuses:[{attackMultiplierBonus:1.05,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃1.05倍"}]},{level:3,skillBonuses:[{attackMultiplierBonus:1.05,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃1.05倍"}]},{level:4,skillBonuses:[{attackMultiplierBonus:1.1,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃1.10倍"}]},{level:5,skillBonuses:[{attackMultiplierBonus:1.3,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃1.30倍"}]}]),Ie=new S("armor","連撃",[{level:1,skillBonuses:[{additionAttackBonus:8,elementAddition:60,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+8、属性値+60"}]},{level:2,skillBonuses:[{additionAttackBonus:10,elementAddition:80,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+10、属性値+80"}]},{level:3,skillBonuses:[{additionAttackBonus:12,elementAddition:100,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+12、属性値+100"}]},{level:4,skillBonuses:[{additionAttackBonus:15,elementAddition:120,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+15、属性値+120"}]},{level:5,skillBonuses:[{additionAttackBonus:18,elementAddition:140,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+18、属性値+140"}]}]),Re=new S("armor","挑戦者",[{level:1,skillBonuses:[{additionAttackBonus:4,criticalRateBonus:3,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+4、会心率+3%"}]},{level:2,skillBonuses:[{additionAttackBonus:8,criticalRateBonus:5,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+8、会心率+5%"}]},{level:3,skillBonuses:[{additionAttackBonus:12,criticalRateBonus:7,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+12、会心率+7%"}]},{level:4,skillBonuses:[{additionAttackBonus:16,criticalRateBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+16、会心率+10%"}]},{level:5,skillBonuses:[{additionAttackBonus:20,criticalRateBonus:15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+20、会心率+15%"}]}]),Fe=new S("armor","逆襲",[{level:1,skillBonuses:[{additionAttackBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+10"}]},{level:2,skillBonuses:[{additionAttackBonus:15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+15"}]},{level:3,skillBonuses:[{additionAttackBonus:25,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+25"}]}]),Pe=new S("weapon","超会心",[{level:1,skillBonuses:[{criticalDamageModifier:.03,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心時ダメージ倍率+0.03（1.28倍）"}]},{level:2,skillBonuses:[{criticalDamageModifier:.06,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心時ダメージ倍率+0.06（1.31倍）"}]},{level:3,skillBonuses:[{criticalDamageModifier:.09,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心時ダメージ倍率+0.09（1.34倍）"}]},{level:4,skillBonuses:[{criticalDamageModifier:.12,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心時ダメージ倍率+0.12（1.37倍）"}]},{level:5,skillBonuses:[{criticalDamageModifier:.15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心時ダメージ倍率+0.15（1.40倍）"}]}]),De=new S("armor","属性吸収",[{level:1,skillBonuses:[{elementAddition:40,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"発動時、属性値+40"}]},{level:2,skillBonuses:[{elementAddition:50,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"発動時、属性値+50"}]},{level:3,skillBonuses:[{elementAddition:60,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"発動時、属性値+60"}]}]),Ee=new S("armor","力の開放",[{level:1,skillBonuses:[{criticalRateBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+10%"}]},{level:2,skillBonuses:[{criticalRateBonus:20,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+20%"}]},{level:3,skillBonuses:[{criticalRateBonus:30,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+30%"}]},{level:4,skillBonuses:[{criticalRateBonus:40,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+40%"}]},{level:5,skillBonuses:[{criticalRateBonus:50,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+50%"}]}]),Ne=new S("armor","巧撃",[{level:1,skillBonuses:[{additionAttackBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+10"}]},{level:2,skillBonuses:[{additionAttackBonus:15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+15"}]},{level:3,skillBonuses:[{additionAttackBonus:20,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+20"}]},{level:4,skillBonuses:[{additionAttackBonus:25,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+25"}]},{level:5,skillBonuses:[{additionAttackBonus:30,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+30"}]}]),ze=new S("armor","渾身",[{level:1,skillBonuses:[{criticalRateBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+10%"}]},{level:2,skillBonuses:[{criticalRateBonus:20,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+20%"}]},{level:3,skillBonuses:[{criticalRateBonus:30,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"会心率+30%"}]}]),We=new S("weapon","心眼",[{level:1,skillBonuses:[{attackMultiplierBonus:1.1,minHitZone:0,maxHitZone:44,applicableStates:["normal","wounded","exposed"],description:"肉質44以下の部位: 攻撃1.1倍"}]},{level:2,skillBonuses:[{attackMultiplierBonus:1.15,minHitZone:0,maxHitZone:44,applicableStates:["normal","wounded","exposed"],description:"肉質44以下の部位: 攻撃1.15倍"}]},{level:3,skillBonuses:[{attackMultiplierBonus:1.3,minHitZone:0,maxHitZone:44,applicableStates:["normal","wounded","exposed"],description:"肉質44以下の部位: 攻撃1.3倍"}]}]),Oe=new S("armor","フルチャージ",[{level:1,skillBonuses:[{additionAttackBonus:3,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+3"}]},{level:2,skillBonuses:[{additionAttackBonus:6,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+6"}]},{level:3,skillBonuses:[{additionAttackBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+10"}]},{level:4,skillBonuses:[{additionAttackBonus:15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+15"}]},{level:5,skillBonuses:[{additionAttackBonus:20,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+20"}]}]),_e=new S("armor","弱点特攻",[{level:1,skillBonuses:[{criticalRateBonus:5,minHitZone:45,maxHitZone:100,applicableStates:["normal"],description:"肉質45以上の部位（通常）: 会心率+5%"},{criticalRateBonus:8,minHitZone:45,maxHitZone:100,applicableStates:["wounded","exposed"],description:"肉質45以上の部位（傷/露出）: 会心率+8%"}]},{level:2,skillBonuses:[{criticalRateBonus:10,minHitZone:45,maxHitZone:100,applicableStates:["normal"],description:"肉質45以上の部位（通常）: 会心率+10%"},{criticalRateBonus:15,minHitZone:45,maxHitZone:100,applicableStates:["wounded","exposed"],description:"肉質45以上の部位（傷/露出）: 会心率+15%"}]},{level:3,skillBonuses:[{criticalRateBonus:15,minHitZone:45,maxHitZone:100,applicableStates:["normal"],description:"肉質45以上の部位（通常）: 会心率+15%"},{criticalRateBonus:25,minHitZone:45,maxHitZone:100,applicableStates:["wounded","exposed"],description:"肉質45以上の部位（傷/露出）: 会心率+25%"}]},{level:4,skillBonuses:[{criticalRateBonus:20,minHitZone:45,maxHitZone:100,applicableStates:["normal"],description:"肉質45以上の部位（通常）: 会心率+20%"},{criticalRateBonus:35,minHitZone:45,maxHitZone:100,applicableStates:["wounded","exposed"],description:"肉質45以上の部位（傷/露出）: 会心率+35%"}]},{level:5,skillBonuses:[{criticalRateBonus:30,minHitZone:45,maxHitZone:100,applicableStates:["normal"],description:"肉質45以上の部位（通常）: 会心率+30%"},{criticalRateBonus:50,minHitZone:45,maxHitZone:100,applicableStates:["wounded","exposed"],description:"肉質45以上の部位（傷/露出）: 会心率+50%"}]}]),$e=new S("armor","無我の境地",[{level:1,skillBonuses:[{criticalRateBonus:18,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"克服時、会心率+18%"}]},{level:2,skillBonuses:[{criticalRateBonus:21,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"克服時、会心率+21%"}]},{level:3,skillBonuses:[{criticalRateBonus:25,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"克服時、会心率+25%"}]}]),Je=new S("group","ヌシの魂",[{level:1,skillBonuses:[{attackMultiplierBonus:1.05,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃1.05倍"}]}]),Ge=new S("series","黒蝕一体",[{level:1,skillBonuses:[]},{level:2,skillBonuses:[{additionAttackBonus:15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"克服時、攻撃力+15"}]}]),Ue=new S("armor","逆恨み",[{level:1,skillBonuses:[{additionAttackBonus:5,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+5"}]},{level:2,skillBonuses:[{additionAttackBonus:10,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+10"}]},{level:3,skillBonuses:[{additionAttackBonus:15,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+15"}]},{level:4,skillBonuses:[{additionAttackBonus:20,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+20"}]},{level:5,skillBonuses:[{additionAttackBonus:25,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],description:"攻撃力+25"}]}]),Ye={category:"weapon",name:"火属性攻撃強化",levels:[{level:1,skillBonuses:[{elementAddition:40,minHitZone:0,maxHitZone:100,description:"火属性攻撃値+40"}]},{level:2,skillBonuses:[{elementAddition:50,elementModifier:1.1,minHitZone:0,maxHitZone:100,description:"火属性攻撃値を1.1倍、火属性攻撃値+50"}]},{level:3,skillBonuses:[{elementAddition:60,elementModifier:1.2,minHitZone:0,maxHitZone:100,description:"火属性攻撃値を1.2倍、火属性攻撃値+60"}]}]},Ke={category:"weapon",name:"水属性攻撃強化",levels:[{level:1,skillBonuses:[{elementAddition:40,minHitZone:0,maxHitZone:100,description:"水属性攻撃値+40"}]},{level:2,skillBonuses:[{elementAddition:50,elementModifier:1.1,minHitZone:0,maxHitZone:100,description:"水属性攻撃値を1.1倍、水属性攻撃値+50"}]},{level:3,skillBonuses:[{elementAddition:60,elementModifier:1.2,minHitZone:0,maxHitZone:100,description:"水属性攻撃値を1.2倍、水属性攻撃値+60"}]}]},qe={category:"weapon",name:"雷属性攻撃強化",levels:[{level:1,skillBonuses:[{elementAddition:40,minHitZone:0,maxHitZone:100,description:"雷属性攻撃値+40"}]},{level:2,skillBonuses:[{elementAddition:50,elementModifier:1.1,minHitZone:0,maxHitZone:100,description:"雷属性攻撃値を1.1倍、雷属性攻撃値+50"}]},{level:3,skillBonuses:[{elementAddition:60,elementModifier:1.2,minHitZone:0,maxHitZone:100,description:"雷属性攻撃値を1.2倍、雷属性攻撃値+60"}]}]},Xe={category:"weapon",name:"氷属性攻撃強化",levels:[{level:1,skillBonuses:[{elementAddition:40,minHitZone:0,maxHitZone:100,description:"氷属性攻撃値+40"}]},{level:2,skillBonuses:[{elementAddition:50,elementModifier:1.1,minHitZone:0,maxHitZone:100,description:"氷属性攻撃値を1.1倍、氷属性攻撃値+50"}]},{level:3,skillBonuses:[{elementAddition:60,elementModifier:1.2,minHitZone:0,maxHitZone:100,description:"氷属性攻撃値を1.2倍、氷属性攻撃値+60"}]}]},Qe={category:"weapon",name:"龍属性攻撃強化",levels:[{level:1,skillBonuses:[{elementAddition:40,minHitZone:0,maxHitZone:100,description:"龍属性攻撃値+40"}]},{level:2,skillBonuses:[{elementAddition:50,elementModifier:1.1,minHitZone:0,maxHitZone:100,description:"龍属性攻撃値を1.1倍、龍属性攻撃値+50"}]},{level:3,skillBonuses:[{elementAddition:60,elementModifier:1.2,minHitZone:0,maxHitZone:100,description:"龍属性攻撃値を1.2倍、龍属性攻撃値+60"}]}]},et={category:"weapon",name:"飛燕",levels:[{level:1,skillBonuses:[{attackMultiplierBonus:1.1,minHitZone:0,maxHitZone:100,applicableStates:["normal","wounded","exposed"],isJumpAttackOnly:!0,description:"ジャンプ攻撃1.1倍"}]}]},tt=new S("armor","攻めの守勢",[{level:1,skillBonuses:[{attackMultiplierBonus:.05,minHitZone:0,maxHitZone:100,description:"ガード成功直後、一定時間攻撃力が1.05倍"}]},{level:2,skillBonuses:[{attackMultiplierBonus:.1,minHitZone:0,maxHitZone:100,description:"ガード成功直後、一定時間攻撃力が1.10倍"}]},{level:3,skillBonuses:[{attackMultiplierBonus:.15,minHitZone:0,maxHitZone:100,description:"ガード成功直後、一定時間攻撃力が1.15倍"}]}]),nt=new S("weapon","濡れ刃紋",[{level:1,skillBonuses:[{criticalRateBonus:7,minHitZone:0,maxHitZone:100,description:"泡状態の時、会心率+7%"}]},{level:2,skillBonuses:[{criticalRateBonus:14,minHitZone:0,maxHitZone:100,description:"泡状態の時、会心率+14%"}]},{level:3,skillBonuses:[{criticalRateBonus:21,minHitZone:0,maxHitZone:100,description:"泡状態の時、会心率+21%"}]}]),it=new S("weapon","見切り",[{level:1,skillBonuses:[{criticalRateBonus:4,minHitZone:0,maxHitZone:100,description:"会心率+4%"}]},{level:2,skillBonuses:[{criticalRateBonus:8,minHitZone:0,maxHitZone:100,description:"会心率+8%"}]},{level:3,skillBonuses:[{criticalRateBonus:12,minHitZone:0,maxHitZone:100,description:"会心率+12%"}]},{level:4,skillBonuses:[{criticalRateBonus:16,minHitZone:0,maxHitZone:100,description:"会心率+16%"}]},{level:5,skillBonuses:[{criticalRateBonus:20,minHitZone:0,maxHitZone:100,description:"会心率+20%"}]}]),he={weapon:[Ae,Pe,et,We,Ye,Ke,qe,Xe,Qe,nt,it],armor:[Le,Re,Fe,ze,Oe,Ee,Ne,_e,Ie,De,$e,Ue,tt],group:[Je],series:[Ge]},ot={weapon:"武器スキル",armor:"防具スキル",group:"グループスキル",series:"シリーズスキル"},at=[{name:"縦斬り1",motionValue:24,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"縦斬り2",motionValue:18,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"逆袈裟斬り",motionValue:32,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"赤刃斬り I 1",motionValue:33,elementMultiplier:.7,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"赤刃斬り I 2",motionValue:16,elementMultiplier:.7,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"赤刃斬り II 1",motionValue:9,elementMultiplier:.7,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"赤刃斬り II 2",motionValue:18,elementMultiplier:.7,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"赤刃斬り III 1",motionValue:28,elementMultiplier:.7,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"赤刃斬り III 2",motionValue:16,elementMultiplier:.7,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"赤刃斬り III 3",motionValue:49,elementMultiplier:.7,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"突き",motionValue:18,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"斬り上げ",motionValue:18,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"切り下がり",motionValue:22,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃斬り I",motionValue:31,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃斬り II",motionValue:30,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃斬り III 1",motionValue:14,elementMultiplier:1,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"気刃斬り III 2",motionValue:19,elementMultiplier:1,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"気刃斬り III 3",motionValue:34,elementMultiplier:1,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"気刃斬り I (ゲージなし)",motionValue:14,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃斬り II (ゲージなし)",motionValue:14,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃斬り III 1 (ゲージなし)",motionValue:8,elementMultiplier:1,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"気刃斬り III 2 (ゲージなし)",motionValue:11,elementMultiplier:1,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"気刃斬り III 3 (ゲージなし)",motionValue:19,elementMultiplier:1,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"移動気刃斬り I 1",motionValue:31,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"移動気刃斬りII 1",motionValue:14,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"移動気刃斬りII 2",motionValue:26,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"移動気刃斬りI 1 (ゲージなし)",motionValue:14,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"移動気刃斬りII 1 (ゲージなし)",motionValue:8,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"移動気刃斬りII 2 (ゲージなし)",motionValue:18,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"気刃大回転斬り",motionValue:38,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃大回転斬り (ゲージなし)",motionValue:19,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"赤刃旋転斬",motionValue:55,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash",isJump:!0},{name:"気刃踏み込み斬り",motionValue:28,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"気刃踏み込み斬り (ゲージなし)",motionValue:18,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"見切り切り",motionValue:18,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"見切り切り (ゲージなし)",motionValue:11,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"見切り切り (成功時)",motionValue:23.4,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"見切り切り・旋1",motionValue:22,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"見切り切り・旋2",motionValue:13,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"見切り切り・旋1 (成功時)",motionValue:28.6,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"見切り切り・旋2 (成功時)",motionValue:16.9,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"居合抜刀斬り1",motionValue:18,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"居合抜刀斬り2",motionValue:13,elementMultiplier:1,sharpnessModifier:.5,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り1 (ゲージ段階：無)",motionValue:17,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り1 (ゲージ段階：白)",motionValue:19,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り2 (ゲージ段階：白)",motionValue:55,elementMultiplier:1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り1 (ゲージ段階：黄)",motionValue:31,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り2 (ゲージ段階：黄)",motionValue:72,elementMultiplier:1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り1 (ゲージ段階：赤)",motionValue:39,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"居合抜刀気刃斬り2 (ゲージ段階：赤)",motionValue:86,elementMultiplier:1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"気刃突き",motionValue:19,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"兜割 (ゲージ段階：白) (x7)",motionValue:15,elementMultiplier:.2,sharpnessModifier:0,hitCount:7,attackType:"slash",isJump:!0},{name:"兜割 (ゲージ段階：黄) (x7)",motionValue:20,elementMultiplier:.2,sharpnessModifier:0,hitCount:7,attackType:"slash",isJump:!0},{name:"兜割 (ゲージ段階：赤) (x7)",motionValue:23,elementMultiplier:.2,sharpnessModifier:0,hitCount:7,attackType:"slash",isJump:!0},{name:"練気解放無双斬り1 (x2)",motionValue:5,elementMultiplier:1,sharpnessModifier:.3,hitCount:2,attackType:"slash"},{name:"練気解放無双斬り2 (x3)",motionValue:9,elementMultiplier:.1,sharpnessModifier:0,hitCount:3,attackType:"slash"},{name:"練気解放無双斬り3 (x3)",motionValue:14,elementMultiplier:.1,sharpnessModifier:0,hitCount:3,attackType:"slash"},{name:"練気解放無双斬り4 (x3)",motionValue:20,elementMultiplier:.1,sharpnessModifier:0,hitCount:3,attackType:"slash"},{name:"練気解放無双斬り5 (x3)",motionValue:32,elementMultiplier:.1,sharpnessModifier:0,hitCount:3,attackType:"slash"}],st=[{name:"Charged Slash Lv0",motionValue:78,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Slash Lv1",motionValue:101,elementMultiplier:1.1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Slash Lv2",motionValue:129,elementMultiplier:1.2,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Slash Lv3",motionValue:160,elementMultiplier:1.3,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Wide Slash",motionValue:42,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Offset Rising Slash Lv0",motionValue:38,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Offset Rising Slash Lv1",motionValue:94,elementMultiplier:1.1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Offset Rising Slash Lv2",motionValue:121,elementMultiplier:1.2,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Offset Rising Slash Lv3",motionValue:151,elementMultiplier:1.3,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Follow-up Cross Slash 1 Lv1",motionValue:44,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Follow-up Cross Slash 2 Lv1",motionValue:180,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Follow-up Cross Slash 1 Lv2",motionValue:49,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Follow-up Cross Slash 2 Lv2",motionValue:200,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Follow-up Cross Slash 1 Lv3",motionValue:58,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Follow-up Cross Slash 2 Lv3",motionValue:230,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Kick",motionValue:5,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"blunt"},{name:"Side Blow",motionValue:16,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"blunt"},{name:"Strong Charged Slash Lv0 (Unavailable)",motionValue:80,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Charged Slash Lv1",motionValue:108,elementMultiplier:1.2,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Charged Slash Lv2",motionValue:140,elementMultiplier:1.3,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Charged Slash Lv3",motionValue:176,elementMultiplier:1.4,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Wide Slash Lv0 (Unavailable)",motionValue:72,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Wide Slash Lv1",motionValue:87,elementMultiplier:1.5,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Wide Slash Lv2",motionValue:105,elementMultiplier:1.7,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Strong Wide Slash Lv3",motionValue:130,elementMultiplier:2,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Tackle Lv0",motionValue:23,elementMultiplier:0,sharpnessModifier:1,hitCount:1,attackType:"blunt"},{name:"Tackle Lv1",motionValue:26,elementMultiplier:0,sharpnessModifier:1,hitCount:1,attackType:"blunt"},{name:"Tackle Lv2",motionValue:35,elementMultiplier:0,sharpnessModifier:1,hitCount:1,attackType:"blunt"},{name:"Tackle Lv3",motionValue:48,elementMultiplier:0,sharpnessModifier:1.2,hitCount:1,attackType:"blunt"},{name:"Leaping Wide Slash Lv0",motionValue:88,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Leaping Wide Slash Lv1",motionValue:106,elementMultiplier:2,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Leaping Wide Slash Lv2",motionValue:128,elementMultiplier:2.5,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Leaping Wide Slash Lv3",motionValue:159,elementMultiplier:3.1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 1 Lv0 (Unavailable)",motionValue:10,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 1 Lv1",motionValue:12,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 1 Lv2",motionValue:14,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 1 Lv3",motionValue:16,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 2 Lv0 (Unavailable)",motionValue:82,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 2 Lv1",motionValue:102,elementMultiplier:1.3,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 2 Lv2",motionValue:149,elementMultiplier:1.4,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"True Charged Slash 2 Lv3",motionValue:190,elementMultiplier:1.5,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Power True Charged Slash 2 Lv0 (Unavailable)",motionValue:90,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Power True Charged Slash 2 Lv1",motionValue:121,elementMultiplier:1.3,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Power True Charged Slash 2 Lv2",motionValue:181,elementMultiplier:1.4,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Power True Charged Slash 2 Lv3",motionValue:241,elementMultiplier:1.5,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Jumping Charged Slash Lv0",motionValue:48,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Jumping Charged Slash Lv1",motionValue:58,elementMultiplier:1.1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Jumping Charged Slash Lv2",motionValue:69,elementMultiplier:1.2,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Jumping Charged Slash Lv3",motionValue:87,elementMultiplier:1.3,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Rising Slash Lv0",motionValue:48,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Rising Slash Lv1",motionValue:48,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Rising Slash Lv2",motionValue:72,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Charged Rising Slash Lv3",motionValue:98,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Plunging Thrust Lv0",motionValue:36,elementMultiplier:.4,sharpnessModifier:.2,hitCount:1,attackType:"slash"},{name:"Plunging Thrust Lv1",motionValue:42,elementMultiplier:.4,sharpnessModifier:.2,hitCount:1,attackType:"slash"},{name:"Plunging Thrust Lv2",motionValue:50,elementMultiplier:.4,sharpnessModifier:.2,hitCount:1,attackType:"slash"},{name:"Plunging Thrust Lv3",motionValue:58,elementMultiplier:.4,sharpnessModifier:.2,hitCount:1,attackType:"slash"},{name:"Scaling Drop Slash 1",motionValue:20,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Scaling Drop Slash 2",motionValue:45,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Seikret Attack I",motionValue:15,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Seikret Attack II",motionValue:10,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Dismount Attack 1",motionValue:20,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Dismount Attack 2",motionValue:50,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv0",motionValue:15,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv1",motionValue:20,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv2",motionValue:26,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv3",motionValue:33,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv0 Extra Hit",motionValue:14,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv1 Extra Hit",motionValue:16,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv2 Extra Hit",motionValue:18,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv3 Extra Hit",motionValue:24,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv0 Multihit",motionValue:10,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv1 Multihit",motionValue:11,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv2 Multihit",motionValue:12,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv3 Multihit",motionValue:13,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv0 Finisher 1",motionValue:15,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv1 Finisher 1",motionValue:20,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv2 Finisher 1",motionValue:22,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv3 Finisher 1",motionValue:24,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv0 Finisher 2",motionValue:6,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv1 Finisher 2",motionValue:6,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv2 Finisher 2",motionValue:6,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv3 Finisher 2",motionValue:6,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv0 Finisher 3",motionValue:2,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv1 Finisher 3",motionValue:2,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv2 Finisher 3",motionValue:2,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Focus Strike: Perforate Lv3 Finisher 3",motionValue:2,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Lv0",motionValue:15,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Lv1",motionValue:20,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Lv2",motionValue:26,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Lv3",motionValue:33,elementMultiplier:.4,sharpnessModifier:.3,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Extra Hit Lv0",motionValue:14,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Extra Hit Lv1",motionValue:16,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Extra Hit Lv2",motionValue:18,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Aerial Focus Strike Extra Hit Lv3",motionValue:24,elementMultiplier:.1,sharpnessModifier:0,hitCount:1,attackType:"slash"},{name:"Clash Finisher",motionValue:90,elementMultiplier:1,sharpnessModifier:1,hitCount:1,attackType:"slash"},{name:"Mount Attack",motionValue:90,elementMultiplier:1,sharpnessModifier:.1,hitCount:1,attackType:"slash"},{name:"Mount Finisher 1",motionValue:120,elementMultiplier:1,sharpnessModifier:.1,hitCount:1,attackType:"slash"},{name:"Mount Finisher Multihit",motionValue:10,elementMultiplier:1,sharpnessModifier:.1,hitCount:1,attackType:"slash"},{name:"Mount Finisher 2",motionValue:60,elementMultiplier:1,sharpnessModifier:.1,hitCount:1,attackType:"slash"}],lt={longsword:at,greatsword:st},rt={name:"アルシュベルド",parts:[{name:"頭",states:[{state:"normal",slashHitZone:45,bluntHitZone:48,shotHitZone:45,fireHitZone:5,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:45,bluntHitZone:48,shotHitZone:45,fireHitZone:5,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:5}]},{name:"胴体",states:[{state:"normal",slashHitZone:28,bluntHitZone:30,shotHitZone:20,fireHitZone:1,waterHitZone:1,thunderHitZone:1,iceHitZone:1,dragonHitZone:5},{state:"wounded",slashHitZone:60,bluntHitZone:62,shotHitZone:65,fireHitZone:5,waterHitZone:5,thunderHitZone:10,iceHitZone:5,dragonHitZone:15}]},{name:"翼",states:[{state:"normal",slashHitZone:42,bluntHitZone:40,shotHitZone:38,fireHitZone:2,waterHitZone:2,thunderHitZone:2,iceHitZone:2,dragonHitZone:5},{state:"wounded",slashHitZone:60,bluntHitZone:63,shotHitZone:65,fireHitZone:5,waterHitZone:5,thunderHitZone:10,iceHitZone:5,dragonHitZone:15}]},{name:"鎖翼刃",states:[{state:"normal",slashHitZone:50,bluntHitZone:50,shotHitZone:45,fireHitZone:0,waterHitZone:0,thunderHitZone:0,iceHitZone:0,dragonHitZone:0},{state:"wounded",slashHitZone:70,bluntHitZone:70,shotHitZone:68,fireHitZone:30,waterHitZone:3,thunderHitZone:3,iceHitZone:3,dragonHitZone:38},{state:"exposed",slashHitZone:52,bluntHitZone:52,shotHitZone:48,fireHitZone:20,waterHitZone:20,thunderHitZone:20,iceHitZone:20,dragonHitZone:25}]},{name:"脚",states:[{state:"normal",slashHitZone:26,bluntHitZone:25,shotHitZone:20,fireHitZone:2,waterHitZone:2,thunderHitZone:2,iceHitZone:2,dragonHitZone:4},{state:"wounded",slashHitZone:60,bluntHitZone:62,shotHitZone:65,fireHitZone:5,waterHitZone:5,thunderHitZone:10,iceHitZone:5,dragonHitZone:15}]},{name:"尻尾",states:[{state:"normal",slashHitZone:45,bluntHitZone:40,shotHitZone:42,fireHitZone:5,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:60,bluntHitZone:62,shotHitZone:65,fireHitZone:5,waterHitZone:5,thunderHitZone:10,iceHitZone:5,dragonHitZone:15}]}]},dt={name:"ゴア・マガラ",parts:[{name:"頭",states:[{state:"normal",slashHitZone:65,bluntHitZone:55,shotHitZone:45,fireHitZone:15,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:15},{state:"wounded",slashHitZone:75,bluntHitZone:70,shotHitZone:50,fireHitZone:15,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:15}]},{name:"触角",states:[{state:"normal",slashHitZone:75,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:25},{state:"wounded",slashHitZone:80,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:25}]},{name:"口",states:[{state:"exposed",slashHitZone:75,bluntHitZone:70,shotHitZone:50,fireHitZone:15,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:15}]},{name:"首",states:[{state:"normal",slashHitZone:45,bluntHitZone:45,shotHitZone:25,fireHitZone:15,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"胴体",states:[{state:"normal",slashHitZone:25,bluntHitZone:25,shotHitZone:20,fireHitZone:10,waterHitZone:0,thunderHitZone:5,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"翼",states:[{state:"normal",slashHitZone:26,bluntHitZone:26,shotHitZone:15,fireHitZone:15,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"翼脚",states:[{state:"normal",slashHitZone:27,bluntHitZone:27,shotHitZone:20,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"翼脚（変化時）",states:[{state:"normal",slashHitZone:60,bluntHitZone:55,shotHitZone:45,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10},{state:"wounded",slashHitZone:65,bluntHitZone:65,shotHitZone:65,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"前脚",states:[{state:"normal",slashHitZone:42,bluntHitZone:42,shotHitZone:25,fireHitZone:10,waterHitZone:0,thunderHitZone:5,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"後脚",states:[{state:"normal",slashHitZone:38,bluntHitZone:38,shotHitZone:25,fireHitZone:10,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]},{name:"尻尾",states:[{state:"normal",slashHitZone:38,bluntHitZone:38,shotHitZone:25,fireHitZone:10,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:70,shotHitZone:50,fireHitZone:20,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:10}]}]},ut={name:"ネコ式訓練タルパンチャー",parts:[{name:"やわらかい",states:[{state:"normal",slashHitZone:80,bluntHitZone:80,shotHitZone:80,fireHitZone:30,waterHitZone:30,thunderHitZone:30,iceHitZone:30,dragonHitZone:30}]},{name:"かたい",states:[{state:"normal",slashHitZone:40,bluntHitZone:40,shotHitZone:40,fireHitZone:15,waterHitZone:15,thunderHitZone:15,iceHitZone:15,dragonHitZone:15}]},{name:"傷",states:[{state:"wounded",slashHitZone:100,bluntHitZone:100,shotHitZone:100,fireHitZone:30,waterHitZone:30,thunderHitZone:30,iceHitZone:30,dragonHitZone:30}]}]},ct={name:"ヌ・エグドラ",parts:[{name:"頭",states:[{state:"normal",slashHitZone:70,bluntHitZone:75,shotHitZone:50,fireHitZone:0,waterHitZone:15,thunderHitZone:10,iceHitZone:5,dragonHitZone:10},{state:"wounded",slashHitZone:80,bluntHitZone:85,shotHitZone:60,fireHitZone:0,waterHitZone:25,thunderHitZone:10,iceHitZone:5,dragonHitZone:10}]},{name:"口",states:[{state:"normal",slashHitZone:80,bluntHitZone:80,shotHitZone:80,fireHitZone:0,waterHitZone:20,thunderHitZone:5,iceHitZone:5,dragonHitZone:10}]},{name:"胴体",states:[{state:"normal",slashHitZone:50,bluntHitZone:65,shotHitZone:43,fireHitZone:0,waterHitZone:15,thunderHitZone:10,iceHitZone:5,dragonHitZone:10},{state:"wounded",slashHitZone:65,bluntHitZone:75,shotHitZone:58,fireHitZone:0,waterHitZone:25,thunderHitZone:10,iceHitZone:5,dragonHitZone:10}]},{name:"触腕",states:[{state:"normal",slashHitZone:30,bluntHitZone:43,shotHitZone:25,fireHitZone:0,waterHitZone:15,thunderHitZone:10,iceHitZone:5,dragonHitZone:10}]},{name:"傘膜",states:[{state:"normal",slashHitZone:30,bluntHitZone:43,shotHitZone:25,fireHitZone:0,waterHitZone:15,thunderHitZone:10,iceHitZone:5,dragonHitZone:10},{state:"wounded",slashHitZone:65,bluntHitZone:75,shotHitZone:58,fireHitZone:0,waterHitZone:25,thunderHitZone:10,iceHitZone:5,dragonHitZone:10}]},{name:"腕6本",states:[{state:"normal",slashHitZone:55,bluntHitZone:48,shotHitZone:48,fireHitZone:0,waterHitZone:15,thunderHitZone:10,iceHitZone:5,dragonHitZone:10},{state:"wounded",slashHitZone:65,bluntHitZone:75,shotHitZone:58,fireHitZone:0,waterHitZone:25,thunderHitZone:10,iceHitZone:5,dragonHitZone:10}]}]};class pe{constructor(n,o){F(this,"name");F(this,"parts");this.name=n,this.parts=o}}const mt=new pe("レ・ダウ",[{name:"頭",states:[{state:"normal",slashHitZone:60,bluntHitZone:65,shotHitZone:50,fireHitZone:5,waterHitZone:15,iceHitZone:20,thunderHitZone:0,dragonHitZone:5},{state:"wounded",slashHitZone:70,bluntHitZone:75,shotHitZone:60,fireHitZone:5,waterHitZone:20,iceHitZone:25,thunderHitZone:0,dragonHitZone:5},{state:"exposed",slashHitZone:80,bluntHitZone:80,shotHitZone:70,fireHitZone:5,waterHitZone:20,iceHitZone:25,thunderHitZone:0,dragonHitZone:5}]},{name:"胴体",states:[{state:"normal",slashHitZone:30,bluntHitZone:30,shotHitZone:25,fireHitZone:5,waterHitZone:5,iceHitZone:5,thunderHitZone:0,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:65,shotHitZone:55,fireHitZone:5,waterHitZone:10,iceHitZone:15,thunderHitZone:0,dragonHitZone:5}]},{name:"翼",states:[{state:"normal",slashHitZone:45,bluntHitZone:50,shotHitZone:45,fireHitZone:5,waterHitZone:10,iceHitZone:15,thunderHitZone:0,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:65,shotHitZone:55,fireHitZone:5,waterHitZone:10,iceHitZone:15,thunderHitZone:0,dragonHitZone:5}]},{name:"脚",states:[{state:"normal",slashHitZone:37,bluntHitZone:37,shotHitZone:33,fireHitZone:5,waterHitZone:5,iceHitZone:5,thunderHitZone:0,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:65,shotHitZone:55,fireHitZone:5,waterHitZone:10,iceHitZone:15,thunderHitZone:0,dragonHitZone:5}]},{name:"尻尾",states:[{state:"normal",slashHitZone:45,bluntHitZone:40,shotHitZone:45,fireHitZone:5,waterHitZone:5,iceHitZone:10,thunderHitZone:0,dragonHitZone:5},{state:"wounded",slashHitZone:65,bluntHitZone:65,shotHitZone:55,fireHitZone:5,waterHitZone:10,iceHitZone:15,thunderHitZone:0,dragonHitZone:5}]}]),ht=[{name:"頭",states:[{state:"normal",slashHitZone:40,bluntHitZone:60,shotHitZone:50,fireHitZone:10,waterHitZone:0,thunderHitZone:20,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:88,bluntHitZone:90,shotHitZone:88,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5},{state:"exposed",slashHitZone:90,bluntHitZone:90,shotHitZone:86,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5}]},{name:"胴体",states:[{state:"normal",slashHitZone:50,bluntHitZone:45,shotHitZone:35,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:80,bluntHitZone:80,shotHitZone:80,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5}]},{name:"前脚",states:[{state:"normal",slashHitZone:65,bluntHitZone:65,shotHitZone:55,fireHitZone:10,waterHitZone:0,thunderHitZone:10,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:80,bluntHitZone:80,shotHitZone:80,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5}]},{name:"後脚",states:[{state:"normal",slashHitZone:55,bluntHitZone:55,shotHitZone:45,fireHitZone:10,waterHitZone:0,thunderHitZone:15,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:80,bluntHitZone:80,shotHitZone:80,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5}]},{name:"尻尾",states:[{state:"normal",slashHitZone:45,bluntHitZone:45,shotHitZone:40,fireHitZone:5,waterHitZone:0,thunderHitZone:5,iceHitZone:5,dragonHitZone:5},{state:"wounded",slashHitZone:80,bluntHitZone:80,shotHitZone:80,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5}]},{name:"ヴェール",states:[{state:"normal",slashHitZone:90,bluntHitZone:60,shotHitZone:60,fireHitZone:15,waterHitZone:0,thunderHitZone:25,iceHitZone:5,dragonHitZone:5}]}],pt=new pe("ウズ・トゥナ",ht),Ht={name:"ゾ・シア",parts:[{name:"頭（白纏晶）",states:[{state:"normal",slashHitZone:40,bluntHitZone:45,shotHitZone:45,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:15}]},{name:"頭",states:[{state:"normal",slashHitZone:60,bluntHitZone:65,shotHitZone:60,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:20},{state:"wounded",slashHitZone:70,bluntHitZone:75,shotHitZone:70,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:20}]},{name:"頭2",states:[{state:"normal",slashHitZone:65,bluntHitZone:70,shotHitZone:65,fireHitZone:15,waterHitZone:5,thunderHitZone:5,iceHitZone:10,dragonHitZone:30},{state:"wounded",slashHitZone:75,bluntHitZone:80,shotHitZone:75,fireHitZone:15,waterHitZone:5,thunderHitZone:5,iceHitZone:10,dragonHitZone:30}]},{name:"首",states:[{state:"normal",slashHitZone:30,bluntHitZone:30,shotHitZone:40,fireHitZone:5,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:30}]},{name:"胴体",states:[{state:"normal",slashHitZone:25,bluntHitZone:25,shotHitZone:5,fireHitZone:5,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:10}]},{name:"前脚",states:[{state:"normal",slashHitZone:45,bluntHitZone:45,shotHitZone:45,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:15}]},{name:"後脚",states:[{state:"normal",slashHitZone:25,bluntHitZone:25,shotHitZone:25,fireHitZone:5,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:10}]},{name:"翼碗（白纏晶）",states:[{state:"normal",slashHitZone:40,bluntHitZone:40,shotHitZone:10,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:15}]},{name:"翼碗",states:[{state:"normal",slashHitZone:80,bluntHitZone:80,shotHitZone:55,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:15,dragonHitZone:20},{state:"wounded",slashHitZone:90,bluntHitZone:90,shotHitZone:65,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:20},{state:"exposed",slashHitZone:100,bluntHitZone:100,shotHitZone:100,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:20}]},{name:"翼碗2",states:[{state:"normal",slashHitZone:85,bluntHitZone:85,shotHitZone:60,fireHitZone:20,waterHitZone:5,thunderHitZone:5,iceHitZone:15,dragonHitZone:30},{state:"wounded",slashHitZone:95,bluntHitZone:95,shotHitZone:70,fireHitZone:20,waterHitZone:5,thunderHitZone:5,iceHitZone:15,dragonHitZone:30}]},{name:"尻尾",states:[{state:"normal",slashHitZone:35,bluntHitZone:35,shotHitZone:40,fireHitZone:10,waterHitZone:5,thunderHitZone:5,iceHitZone:5,dragonHitZone:10}]}]},se=[ut,mt,pt,ct,rt,dt,Ht];class q{static calculatePhysicalDamage(n){const{baseWeaponMultiplier:o,additionAttackBonus:r,attackMultiplierBonus:i,motionValue:s,sharpnessModifier:d,criticalDamageModifier:l=1,slashHitZone:p,bluntHitZone:c,shotHitZone:m,attackType:k,hitcount:w=1}=n;let b=0;switch(k){case"slash":b=p;break;case"blunt":b=c;break;case"shot":b=m;break;default:b=p}const a=(o*i+r)*s*d*l*b/1e4;let u=0;for(let H=0;H<w;H++)u+=Math.round(a*10)/10;return u}static calculateElementalDamage(n){const{baseElementValue:o,elementMultiplier:r,elementAddition:i,elementModifier:s,elementalHitZone:d,elementalSharpnessModifier:l,elementalCriticalModifier:p=1,hitcount:c=1}=n;let m=0;for(let k=0;k<c;k++){const w=(o*r+i)*l*(s??1)*(d/100)*p/10;m+=Math.round(w*10)/10}return m}static calculateTotalDamage(n){const o=this.calculatePhysicalDamage(n),r=this.calculateElementalDamage(n);return o+r}}const $=[{color:"red",modifier:.5,elementModifier:.25},{color:"orange",modifier:.75,elementModifier:.5},{color:"yellow",modifier:1,elementModifier:.75},{color:"green",modifier:1.05,elementModifier:1},{color:"blue",modifier:1.2,elementModifier:1.063},{color:"white",modifier:1.32,elementModifier:1.15}],Zt={none:1,white:1.025,yellow:1.05,red:1.1},xt={fire:"fireHitZone",water:"waterHitZone",thunder:"thunderHitZone",ice:"iceHitZone",dragon:"dragonHitZone"};function ft(t,n,o){return(t||[]).flatMap(r=>Array.isArray(r.skillData)?r.skillData.map(i=>({...i,key:r.key,level:r.level})):[]).filter(r=>{var l;if(r.isJumpAttackOnly&&!n.isJump||r.applicableStates&&!((l=r.applicableStates)!=null&&l.includes(o.state)))return!1;const i=r.minHitZone,s=r.maxHitZone,d=o[`${n.attackType}HitZone`];return d>=i&&d<=s})}function Mt(t,n,o,r,i,s){const d=s.reduce((p,c)=>p+(c.additionAttackBonus??0),0);let l=s.reduce((p,c)=>p*(c.attackMultiplierBonus??1),1);return t.weaponType==="longsword"&&t.tachiSpiritGauge&&(l*=Zt[t.tachiSpiritGauge]),{baseWeaponMultiplier:t.weaponMultiplier,additionAttackBonus:d,attackMultiplierBonus:l,motionValue:n.motionValue,sharpnessModifier:o,elementalSharpnessModifier:r,criticalDamageModifier:1,criticalRate:t.criticalRate+s.reduce((p,c)=>p+(c.criticalRateBonus??0),0),criticalRateBonus:0,slashHitZone:i.slashHitZone,bluntHitZone:i.bluntHitZone,shotHitZone:i.shotHitZone,attackType:n.attackType,baseElementValue:t.baseElementValue,elementMultiplier:n.elementMultiplier,elementAddition:0,elementModifier:1,elementalHitZone:i.slashHitZone,minHitZone:0,maxHitZone:100,applicableStates:[i.state],elementalCriticalModifier:1,hitcount:n.hitCount??1}}function gt(t,n,o,r="white",i=[]){if(!o||n.length===0)return[];const s=$.find(l=>l.color===r)??$[5],d=[];return o.parts.forEach(l=>{l.states.forEach(p=>{var Z;let c=0,m=0,k=0,w=0,b=0,B=Number.NEGATIVE_INFINITY,a=0;n.forEach(x=>{const L=ft(i,x,p);a+=L.reduce((M,g)=>M+(g.criticalDamageModifier??0),0);const U=L.reduce((M,g)=>M+(g.criticalRateBonus??0),0);U>B&&(B=U);const W=Mt(t,x,s.modifier,s.elementModifier,p,L);let O=p.slashHitZone;if(t.elementType&&t.elementType.key!=="none"){const M=t.elementType.key,g=xt[M]||"slashHitZone";p[g]!==void 0&&(O=p[g])}c+=q.calculatePhysicalDamage({...W,criticalDamageModifier:1}),m+=q.calculatePhysicalDamage({...W,criticalDamageModifier:1.25+a});let Y=0,K=0;if(t.elementType&&t.elementType.key!=="none"){const M={...W,attackType:"slash",elementalSharpnessModifier:s.elementModifier,elementAddition:L.reduce((g,V)=>g+(V.elementAddition??0),0),elementModifier:L.reduce((g,V)=>g*(V.elementModifier??1),1),elementalHitZone:O,elementalCriticalModifier:L.reduce((g,V)=>g*(V.elementalCriticalModifier??1),1),hitcount:x.hitCount??1};Y=q.calculateElementalDamage(M),K=q.calculateElementalDamage({...M,elementModifier:M.elementModifier})}k+=Y,w+=K,b+=x.motionValue});const u=Math.max(0,Math.min(1,(t.criticalRate+(B===Number.NEGATIVE_INFINITY?0:B))/100)),H=c+k,f=m+w,j=Math.round((H*(1-u)+f*u)*100)/100;d.push({part:l.name,state:p.state,damage:`${H} (${k})`,critDamage:`${f} (${w})`,expected:`${j} (${k})`,physical:c,elemental:k,critRate:u,baseWeaponMultiplier:t.weaponMultiplier,attackMultiplierBonus:1,additionAttackBonus:0,motionValue:b,sharpnessModifier:s.modifier,criticalDamageModifier:1,baseElementValue:t.baseElementValue,elementMultiplier:((Z=n[0])==null?void 0:Z.elementMultiplier)??1,elementAddition:0,elementModifier:1})})}),d}function kt(){const[t,n]=T.useState({weaponType:"longsword",weaponMultiplier:220,baseElementValue:0,elementType:{key:"none",label:"無属性"},criticalRate:5}),[o,r]=T.useState([]),[i,s]=T.useState([]),[d,l]=T.useState(null),[p,c]=T.useState(null),[m,k]=T.useState([]),[w,b]=T.useState("white"),[B,a]=T.useState(!1),[u,H]=T.useState(0),[f,j]=T.useState([]),[Z,x]=T.useState(null),L=Object.keys(he),[U,W]=T.useState(0),O=lt[t.weaponType]||[],Y=M=>{if(M){if(M.weaponInfo&&n(M.weaponInfo),M.selectedSkills&&r(M.selectedSkills),M.selectedMotions&&s(M.selectedMotions),M.selectedMonster){const g=se.find(V=>{var I;return V.name===((I=M.selectedMonster)==null?void 0:I.name)});l(g||null)}M.sharpness&&b(M.sharpness)}},K=()=>{if(i.length===0){x("モーションを1つ以上選択してください");return}if(!d){x("モンスターを選択してください");return}x(null);const M=gt(t,i,d,w,o),g={weaponInfo:t,selectedSkills:o,selectedMotions:i,selectedMonster:d,sharpness:w,damageTableRows:M};c(JSON.stringify(g,null,2)),k(M),j(V=>{const I=V[0];return I&&JSON.stringify({weaponInfo:I.weaponInfo,selectedSkills:I.selectedSkills,selectedMotions:I.selectedMotions,selectedMonster:I.selectedMonster,sharpness:I.sharpness})===JSON.stringify({weaponInfo:g.weaponInfo,selectedSkills:g.selectedSkills,selectedMotions:g.selectedMotions,selectedMonster:g.selectedMonster,sharpness:g.sharpness})?[{...g},...V.slice(1)]:[g,...V].slice(0,20)}),u!==0&&H(0)};return T.useEffect(()=>{s(M=>M.filter(g=>O.some(V=>V.name===g.name)))},[t.weaponType]),{weaponInfo:t,setWeaponInfo:n,selectedSkills:o,setSelectedSkills:r,selectedMotions:i,setSelectedMotions:s,selectedMonster:d,setSelectedMonster:l,damageResult:p,setDamageResult:c,damageTableRows:m,setDamageTableRows:k,sharpness:w,setSharpness:b,presetDialogOpen:B,setPresetDialogOpen:a,tabIndex:u,setTabIndex:H,results:f,setResults:j,errorMessage:Z,setErrorMessage:x,skillCategories:L,skillTab:U,setSkillTab:W,availableMotions:O,handleLoadPreset:Y,handleCalculateDamage:K,MONSTER_LIST:se}}const bt=({onClick:t,errorMessage:n})=>e.jsxs(C,{textAlign:"center",children:[e.jsx(Q,{variant:"contained",color:"primary",onClick:t,children:"Calculate Damage"}),n&&e.jsx(C,{sx:{color:"error.main",fontWeight:"bold",mt:1},children:e.jsx(v,{children:n})})]}),yt=({onOpenPresetDialog:t})=>e.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsxs("h1",{style:{textAlign:"center",margin:0,flex:1,fontSize:"2.5rem"},children:["MH Wilds Damage Calculator",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"1rem",color:"#888"},children:"- モンスターハンターワイルズ ダメージ計算ツール -"})]}),e.jsx(re,{"aria-label":"プリセット保存/読込",onClick:t,size:"large",sx:{color:"text.primary",bgcolor:"background.paper",my:2,"&:hover":{bgcolor:"action.hover"}},children:e.jsx(fe,{})})]}),te="mhw-dmg-presets",vt=({currentPreset:t,onLoad:n})=>{const[o,r]=T.useState(""),[i,s]=T.useState(()=>{try{const c=localStorage.getItem(te);return c?JSON.parse(c):[]}catch{return[]}}),d=()=>{if(!o.trim())return;const c=[...i.filter(m=>m.name!==o.trim()),{name:o.trim(),data:t}];s(c),localStorage.setItem(te,JSON.stringify(c)),r("")},l=c=>{n(c)},p=c=>{const m=i.filter(k=>k.name!==c);s(m),localStorage.setItem(te,JSON.stringify(m))};return e.jsxs(_,{spacing:2,sx:{my:2},children:[e.jsx(v,{variant:"h6",children:"プリセット保存/読込"}),e.jsxs(_,{direction:"row",spacing:1,children:[e.jsx(X,{label:"プリセット名",value:o,onChange:c=>r(c.target.value),size:"small",inputProps:{maxLength:32}}),e.jsx(Q,{variant:"contained",onClick:d,disabled:!o.trim(),children:"保存"})]}),e.jsx(de,{dense:!0,children:i.map(c=>e.jsx(ue,{secondaryAction:e.jsxs(_,{direction:"row",spacing:1,children:[e.jsx(Q,{variant:"outlined",size:"small",onClick:()=>l(c.data),children:"呼び出し"}),e.jsx(re,{edge:"end","aria-label":"delete",onClick:()=>p(c.name),size:"small",children:e.jsx(Me,{fontSize:"small"})})]}),children:e.jsx(ie,{primary:c.name})},c.name))})]})},St=({open:t,onClose:n,currentPreset:o,onLoad:r})=>e.jsxs(ge,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[e.jsx(ke,{children:"プリセット保存/読込"}),e.jsx(be,{children:e.jsx(vt,{currentPreset:o,onLoad:i=>{r(i),n()}})})]}),wt=t=>t===null?"#eee":t>30?"#388e3c":t>10?"#7bc67e":t>0?"#c8e6c9":t<-30?"#d32f2f":t<-10?"#f88379":t<0?"#ffcdd2":"#fff",jt={normal:"通常",wounded:"傷口",exposed:"弱点露出"},Tt=({currentRows:t,compareRows:n,valueType:o="expected"})=>{const r=Array.from(new Set(t.map(d=>d.part))),i=Array.from(new Set(t.map(d=>d.state))),s=r.map(d=>i.map(l=>{const p=t.find(b=>b.part===d&&b.state===l),c=n.find(b=>b.part===d&&b.state===l);if(!p||!c)return null;const m=b=>o==="expected"?Number(b.expected.split(" ")[0]):o==="damage"?Number(b.damage.split(" ")[0]):o==="critDamage"?Number(b.critDamage.split(" ")[0]):0,k=m(c);return k===0?null:(m(p)-k)/k*100}));return e.jsxs(e.Fragment,{children:[e.jsxs(v,{variant:"subtitle2",sx:{mb:.5,mt:2},children:["部位×状態ごとの差分ヒートマップ（",o==="expected"?"期待値":o==="damage"?"通常":"会心","）"]}),e.jsx(E,{component:N,sx:{overflowX:"auto"},children:e.jsxs(J,{size:"small",sx:{minWidth:400},children:[e.jsx(G,{children:e.jsxs(y,{children:[e.jsx(h,{sx:{fontWeight:700},children:"部位\\状態"}),i.map(d=>e.jsx(h,{align:"center",sx:{fontWeight:700},children:jt[d]||d},d))]})}),e.jsx(z,{children:r.map((d,l)=>e.jsxs(y,{children:[e.jsx(h,{sx:{fontWeight:700},children:d}),i.map((p,c)=>{const m=s[l][c];return e.jsx(h,{align:"center",sx:{background:wt(m),color:m!==null&&Math.abs(m)>20?"#fff":"#222",fontWeight:600,border:"1px solid #ddd",minWidth:48,minHeight:32,fontSize:14,p:.5},children:m===null?"-":`${m>0?"+":""}${m.toFixed(1)}%`},p)})]},d))})]})})]})},ne=[{value:"normal",label:"通常"},{value:"wounded",label:"傷口"},{value:"exposed",label:"弱点露出"}],Ct={normal:"通常",wounded:"傷口",exposed:"弱点露出"},Bt=({rows:t,allResults:n,currentIndex:o=0})=>{var B;const[r,i]=ee.useState(ne.map(a=>a.value)),[s,d]=ee.useState(""),l=Array.isArray(n)&&n.length>1,p=l?n.map((a,u)=>({label:u===0?"現在":`履歴${n.length-u}`,idx:u})).filter(a=>a.idx!==o):[],c=l&&s!==""?(B=n[s])==null?void 0:B.damageTableRows:void 0;ee.useEffect(()=>{s!==""&&(s===o||!p.some(a=>a.idx===s))&&d("")},[o,s,p]);const m=t.filter(a=>r.includes(a.state)),k={};m.forEach(a=>{k[a.part]=(k[a.part]||0)+1});const w={},b=a=>{if(c)return c.find(u=>u.part===a.part&&u.state===a.state)};return e.jsxs(E,{component:N,sx:{mt:2,boxShadow:0},children:[e.jsx(v,{variant:"subtitle2",sx:{p:1},children:"ダメージ表"}),l&&e.jsxs(P,{sx:{mb:2,minWidth:200},size:"small",children:[e.jsx(D,{id:"compare-select-label",children:"比較対象"}),e.jsxs(R,{labelId:"compare-select-label",value:s,onChange:a=>{const u=a.target.value;d(u===""?"":parseInt(u,10))},input:e.jsx(ae,{label:"比較対象"}),children:[e.jsx(A,{value:"",children:"なし"}),p.map(a=>e.jsx(A,{value:a.idx,children:a.label},a.idx))]})]}),e.jsxs(P,{sx:{mb:2,minWidth:200},size:"small",children:[e.jsx(D,{id:"state-filter-label",children:"部位状態フィルタ"}),e.jsx(R,{labelId:"state-filter-label",multiple:!0,value:r,onChange:a=>i(typeof a.target.value=="string"?a.target.value.split(","):a.target.value),input:e.jsx(ae,{label:"部位状態フィルタ"}),renderValue:a=>a.map(u=>{var H;return(H=ne.find(f=>f.value===u))==null?void 0:H.label}).join(", "),children:ne.map(a=>e.jsxs(A,{value:a.value,children:[e.jsx(oe,{checked:r.indexOf(a.value)>-1}),e.jsx(ie,{primary:a.label})]},a.value))})]}),e.jsx(E,{component:N,sx:{overflowX:"auto",boxShadow:0},children:e.jsxs(J,{size:"small",sx:{minWidth:"100%",width:"max-content"},children:[e.jsx(G,{children:e.jsxs(y,{children:[e.jsx(h,{sx:{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1}},children:"部位"}),e.jsx(h,{sx:{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1}},children:"状態"}),e.jsx(h,{sx:{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1}},children:"通常"}),e.jsx(h,{sx:{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1}},children:"会心"}),e.jsx(h,{sx:{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1}},children:"会心率"}),e.jsx(h,{sx:{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1}},children:"期待値"})]})}),e.jsx(z,{children:m.map(a=>{const u=!w[a.part];u&&(w[a.part]=!0);const H=typeof s=="number"&&s>=0?b(a):void 0,f=(j,Z)=>{if(Z===void 0||Z===0)return"";const x=(j-Z)/Z*100,L=x>0?"#388e3c":x<0?"#d32f2f":void 0;return e.jsxs(v,{variant:"caption",style:{color:L,fontWeight:600},children:[x>0?"+":"",x.toFixed(1),"%"]})};return e.jsxs(y,{sx:{"& td":{px:{xs:.5,sm:1.5},py:{xs:.5,sm:1},fontSize:{xs:"0.85rem",sm:"1rem"},wordBreak:"keep-all"}},children:[u?e.jsx(h,{rowSpan:k[a.part],children:a.part}):null,e.jsx(h,{children:Ct[a.state]||a.state}),e.jsxs(h,{children:[Number(a.damage.split(" ")[0]).toFixed(1),a.elemental!==0&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(v,{variant:"caption",color:"text.secondary",children:a.elemental.toFixed(1)})]}),H&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),f(Number(a.damage.split(" ")[0]),Number(H.damage.split(" ")[0]))]})]}),e.jsxs(h,{children:[Number(a.critDamage.split(" ")[0]).toFixed(1),a.elemental!==0&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(v,{variant:"caption",color:"text.secondary",children:a.elemental.toFixed(1)})]}),H&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),f(Number(a.critDamage.split(" ")[0]),Number(H.critDamage.split(" ")[0]))]})]}),e.jsxs(h,{children:[a.critRate!==void 0?`${Math.round(a.critRate*100)}%`:"-",e.jsx("br",{}),H&&(()=>{const j=H.critRate??0,Z=a.critRate??0,x=Math.round((Z-j)*100);if(x===0)return null;const L=x>0?"#388e3c":"#d32f2f";return e.jsxs(v,{variant:"caption",style:{color:L,fontWeight:600},children:[x>0?"+":"",x]})})()]}),e.jsxs(h,{children:[Number(a.expected.split(" ")[0]).toFixed(1),a.elemental!==0&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(v,{variant:"caption",color:"text.secondary",children:a.elemental.toFixed(1)})]}),H&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),f(Number(a.expected.split(" ")[0]),Number(H.expected.split(" ")[0]))]})]})]},`${a.part}-${a.state}`)})}),e.jsx(z,{children:e.jsxs(y,{sx:{"& td":{px:{xs:.5,sm:1.5},py:{xs:1,sm:1},fontSize:{xs:"0.85rem",sm:"1rem"},wordBreak:"keep-all"}},children:[e.jsx(h,{colSpan:2,align:"left",children:"平均"}),e.jsxs(h,{align:"left",children:[m.length>0?(m.reduce((a,u)=>a+Number(u.damage.split(" ")[0]),0)/m.length).toFixed(1):"-",c&&m.length>0&&(()=>{const a=m.reduce((Z,x)=>Z+Number(x.damage.split(" ")[0]),0)/m.length,u=c.filter(Z=>r.includes(Z.state)),H=u.length>0?u.reduce((Z,x)=>Z+Number(x.damage.split(" ")[0]),0)/u.length:0;if(!H)return null;const f=(a-H)/H*100,j=f>0?"#388e3c":f<0?"#d32f2f":void 0;return e.jsxs(v,{variant:"caption",style:{color:j,fontWeight:600},children:[e.jsx("br",{}),f>0?"+":"",f.toFixed(1),"%"]})})()]}),e.jsxs(h,{align:"left",children:[m.length>0?(m.reduce((a,u)=>a+Number(u.critDamage.split(" ")[0]),0)/m.length).toFixed(1):"-",c&&m.length>0&&(()=>{const a=m.reduce((Z,x)=>Z+Number(x.critDamage.split(" ")[0]),0)/m.length,u=c.filter(Z=>r.includes(Z.state)),H=u.length>0?u.reduce((Z,x)=>Z+Number(x.critDamage.split(" ")[0]),0)/u.length:0;if(!H)return null;const f=(a-H)/H*100,j=f>0?"#388e3c":f<0?"#d32f2f":void 0;return e.jsxs(v,{variant:"caption",style:{color:j,fontWeight:600},children:[e.jsx("br",{}),f>0?"+":"",f.toFixed(1),"%"]})})()]}),e.jsxs(h,{align:"left",children:[m.length>0?(m.reduce((a,u)=>a+(u.critRate!==void 0?u.critRate:0),0)/m.length*100).toFixed(0)+"%":"-",c&&m.length>0&&(()=>{const a=m.reduce((Z,x)=>Z+(x.critRate??0),0)/m.length,u=c.filter(Z=>r.includes(Z.state)),H=u.length>0?u.reduce((Z,x)=>Z+(x.critRate??0),0)/u.length:0,f=Math.round((a-H)*100);if(f===0)return null;const j=f>0?"#388e3c":"#d32f2f";return e.jsxs(v,{variant:"caption",style:{color:j,fontWeight:600},children:[e.jsx("br",{}),f>0?"+":"",f]})})()]}),e.jsxs(h,{align:"left",children:[m.length>0?(m.reduce((a,u)=>a+Number(u.expected.split(" ")[0]),0)/m.length).toFixed(1):"-",c&&m.length>0&&(()=>{const a=m.reduce((Z,x)=>Z+Number(x.expected.split(" ")[0]),0)/m.length,u=c.filter(Z=>r.includes(Z.state)),H=u.length>0?u.reduce((Z,x)=>Z+Number(x.expected.split(" ")[0]),0)/u.length:0;if(!H)return null;const f=(a-H)/H*100,j=f>0?"#388e3c":f<0?"#d32f2f":void 0;return e.jsxs(v,{variant:"caption",style:{color:j,fontWeight:600},children:[e.jsx("br",{}),f>0?"+":"",f.toFixed(1),"%"]})})()]})]})})]})}),c&&e.jsx(Tt,{currentRows:m,compareRows:c.filter(a=>r.includes(a.state)),valueType:"expected"})]})},Vt=({selectedSkills:t})=>!t||t.length===0?null:e.jsxs(E,{sx:{mt:2,boxShadow:0},component:N,children:[e.jsx(v,{variant:"subtitle2",sx:{p:1},children:"適用スキル一覧"}),e.jsxs(J,{size:"small",children:[e.jsx(G,{children:e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"スキル"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:"レベル"})]})}),e.jsx(z,{children:t.map(n=>e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:n.key}),e.jsxs(h,{sx:{fontSize:"0.95rem"},children:["Lv.",n.level]})]},n.key))})]})]}),At=({motions:t})=>t.length?e.jsxs(E,{component:N,sx:{mt:2,boxShadow:0},children:[e.jsx(v,{variant:"subtitle2",sx:{p:1},children:"選択中モーション一覧"}),e.jsxs(J,{size:"small",children:[e.jsx(G,{children:e.jsxs(y,{children:[e.jsx(h,{children:"モーション名"}),e.jsx(h,{children:"モーション値"}),e.jsx(h,{children:"属性補正"}),e.jsx(h,{children:"ヒット数"})]})}),e.jsx(z,{children:t.map((n,o)=>e.jsxs(y,{children:[e.jsx(h,{children:n.name}),e.jsx(h,{children:n.motionValue}),e.jsx(h,{children:n.elementModifier!==void 0?n.elementModifier:"-"}),e.jsx(h,{children:n.hits!==void 0?n.hits:"-"})]},n.name+o))})]})]}):null,Lt=({weapon:t,selectedSkills:n,selectedMotions:o,sharpnessColor:r})=>{var B,a;const i=n.flatMap(u=>u.skillData),s=i.reduce((u,H)=>u+(H.additionAttackBonus||0),0),d=i.reduce((u,H)=>u*(H.attackMultiplierBonus??1),1),l=i.reduce((u,H)=>u+(H.elementAddition||0),0),p=i.reduce((u,H)=>u*(H.elementModifier??1),1),c=i.reduce((u,H)=>u+(H.criticalDamageModifier||0),0),m=o.reduce((u,H)=>u+(H.motionValue||0),0),k=o.length>0?(o.reduce((u,H)=>u+(H.elementMultiplier||0),0)/o.length).toFixed(2):"-",w=$.find(u=>u.color===r)??$[5],b={longsword:"太刀",greatsword:"大剣"};return e.jsxs(E,{component:N,sx:{mt:2,boxShadow:0},children:[e.jsx(v,{variant:"subtitle2",sx:{p:1},children:"選択中パラメータ（代表値）"}),e.jsxs(J,{size:"small",children:[e.jsx(G,{children:e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"パラメーター"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:"値"})]})}),e.jsxs(z,{children:[e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"武器種"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:b[t.weaponType]||t.weaponType})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"切れ味補正"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:w.modifier})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"武器倍率"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:t.weaponMultiplier})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"加算攻撃力"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:s})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"攻撃乗算補正"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:d})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"属性"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:((B=t.elementType)==null?void 0:B.label)||"-"})]}),((a=t.elementType)==null?void 0:a.key)!=="none"&&e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"属性値"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:t.baseElementValue})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"属性加算補正"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:l})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"属性乗算補正"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:p})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"モーション属性補正"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:o.length>0?k:"-"})]})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"モーション値"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:o.length>0?m:"-"})]}),e.jsxs(y,{children:[e.jsx(h,{sx:{fontSize:"0.95rem"},children:"会心ダメージ補正"}),e.jsx(h,{sx:{fontSize:"0.95rem"},children:1.25+c})]})]})]}),e.jsx(v,{variant:"caption",color:"text.secondary",children:"※スキル補正は全て合算（攻撃乗算は掛け算）、モーション値は合計、モーション属性補正は平均値を表示。"})]})},It=({result:t,fallback:n,allResults:o,currentIndex:r=0})=>{const i=(t==null?void 0:t.damageTableRows)??(n==null?void 0:n.damageTableRows)??[],s=(t==null?void 0:t.selectedSkills)??(n==null?void 0:n.selectedSkills)??[],d=(t==null?void 0:t.selectedMotions)??(n==null?void 0:n.selectedMotions)??[],l=(t==null?void 0:t.selectedMonster)??(n==null?void 0:n.selectedMonster)??null,p=(t==null?void 0:t.weaponInfo)??(n==null?void 0:n.weaponInfo),c=(t==null?void 0:t.sharpness)??(n==null?void 0:n.sharpness);return!l||i.length===0||!p||!c?null:e.jsxs(C,{sx:{px:{xs:.5,sm:3},py:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:[e.jsx(Bt,{rows:i,allResults:o,currentIndex:r}),e.jsx(Vt,{selectedSkills:s}),e.jsx(At,{motions:d.map(m=>({name:m.name,motionValue:m.motionValue,elementModifier:m.elementMultiplier,hits:m.hitCount}))}),e.jsx(Lt,{weapon:p,selectedSkills:s,selectedMotions:d,sharpnessColor:c})]})},Rt=({tabIndex:t,setTabIndex:n,results:o,onDeleteHistory:r})=>{const i=o[t]||o[0];return e.jsxs(e.Fragment,{children:[o.length>0&&e.jsx(ce,{value:t,onChange:(s,d)=>n(d),sx:{mb:2,bgcolor:"background.default",borderRadius:2,boxShadow:1},textColor:"inherit",indicatorColor:"secondary",children:o.map((s,d)=>e.jsx(me,{label:d===0?"現在の結果":`履歴${o.length-d}`,sx:{color:"text.primary"}},`result-${d}`))}),e.jsx(It,{result:i,fallback:i,allResults:o,currentIndex:t}),t>0&&o[t]&&e.jsx(C,{sx:{px:{xs:.5,sm:3},py:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:e.jsx(C,{sx:{mb:1},children:e.jsx(Q,{variant:"outlined",color:"error",onClick:()=>r(t),children:"この履歴を削除"})})})]})},le=[{key:"none",label:"無属性"},{key:"fire",label:"火"},{key:"water",label:"水"},{key:"ice",label:"氷"},{key:"thunder",label:"雷"},{key:"dragon",label:"龍"}],Ft={red:"赤",orange:"橙",yellow:"黄",green:"緑",blue:"青",white:"白"},Pt=({value:t,onChange:n})=>e.jsxs(C,{sx:{width:"100%",marginBottom:4},children:[e.jsx(v,{variant:"subtitle2",sx:{mb:1},color:"text.primary",children:"切れ味"}),e.jsx(ye,{value:t,exclusive:!0,onChange:(o,r)=>{r&&n(r)},size:"small",fullWidth:!0,children:$.map(o=>e.jsx(ve,{value:o.color,sx:{flex:1},children:Ft[o.color]},o.color))})]}),Dt=[{key:"longsword",label:"太刀"},{key:"greatsword",label:"大剣"}],Et=({weapon:t,setWeapon:n,sharpnessColor:o,setSharpnessColor:r})=>{var d;const i=(l,p)=>{n({...t,[l]:p})},s=l=>{n({...t,tachiSpiritGauge:l.target.value})};return e.jsx(C,{component:"section",sx:{mb:2},children:e.jsxs(_,{direction:"column",spacing:2,children:[e.jsxs(P,{sx:{minWidth:120},children:[e.jsx(D,{id:"weapon-type-label",children:"武器種"}),e.jsx(R,{labelId:"weapon-type-label",value:t.weaponType,label:"武器種",onChange:l=>i("weaponType",l.target.value),sx:{textAlign:"left","& .MuiSelect-select":{textAlign:"left"}},children:Dt.map(l=>e.jsx(A,{value:l.key,children:l.label},l.key))})]}),e.jsx(Pt,{value:o??"white",onChange:l=>r==null?void 0:r(l)}),e.jsx(X,{type:"number",label:"武器倍率",value:t.weaponMultiplier,onChange:l=>i("weaponMultiplier",Number(l.target.value)),InputProps:{inputProps:{min:0}},sx:{minWidth:120}}),e.jsx(X,{type:"number",label:"属性値",value:t.baseElementValue,onChange:l=>{const p=l.target.value===""?0:Number(l.target.value);i("baseElementValue",Math.max(0,p))},InputProps:{inputProps:{min:0}},sx:{minWidth:120}}),e.jsxs(P,{sx:{minWidth:120},children:[e.jsx(D,{id:"element-type-label",children:"属性"}),e.jsxs(R,{labelId:"element-type-label",value:((d=t.elementType)==null?void 0:d.key)||"",label:"属性",onChange:l=>i("elementType",le.find(p=>p.key===l.target.value)),sx:{textAlign:"left","& .MuiSelect-select":{textAlign:"left"}},children:[e.jsx(A,{value:"",children:e.jsx("em",{children:"属性を選択"})}),le.map(l=>e.jsx(A,{value:l.key,children:l.label},l.key))]})]}),e.jsx(X,{type:"number",label:"会心率",value:t.criticalRate,onChange:l=>i("criticalRate",Number(l.target.value)),InputProps:{inputProps:{min:-100,max:100}},sx:{minWidth:120}}),t.weaponType==="longsword"&&e.jsxs(P,{sx:{minWidth:120},children:[e.jsx(D,{id:"spirit-gauge-label",children:"練気ゲージ段階"}),e.jsxs(R,{labelId:"spirit-gauge-label",value:t.tachiSpiritGauge??"none",label:"練気ゲージ段階",onChange:s,sx:{textAlign:"left","& .MuiSelect-select":{textAlign:"left"}},children:[e.jsx(A,{value:"none",children:"無色"}),e.jsx(A,{value:"white",children:"白色"}),e.jsx(A,{value:"yellow",children:"黄色"}),e.jsx(A,{value:"red",children:"赤色"})]})]})]})})},Nt=({weapon:t,setWeapon:n,sharpnessColor:o,setSharpnessColor:r})=>e.jsxs(C,{sx:{px:{xs:.5,sm:3},py:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:[e.jsx(v,{variant:"h6",sx:{mb:1},color:"text.primary",children:"武器"}),e.jsx(Et,{weapon:t,setWeapon:n,sharpnessColor:o,setSharpnessColor:r})]}),zt=({skill:t,selectedSkill:n,setSelectedSkill:o})=>{const r=!!n,i=(n==null?void 0:n.level)||1;return e.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:1,px:1},children:[e.jsx(Se,{control:e.jsx(oe,{checked:r,onChange:s=>o(t.key,s.target.checked,1),"data-testid":`skill-checkbox-${t.key}`}),label:e.jsx("span",{style:{color:"inherit"},children:e.jsx(C,{component:"span",sx:{color:"text.primary"},children:t.label})})}),r&&e.jsxs(e.Fragment,{children:[(()=>{var d,l,p;const s=(p=(l=(d=t.skillLevels[i-1])==null?void 0:d.skillBonuses)==null?void 0:l[0])==null?void 0:p.description;return s?e.jsx("span",{"data-testid":`skill-desc-${t.key}`,style:{fontSize:"0.68em",color:"#888",marginLeft:"auto",width:"25%",textAlign:"right"},children:s}):null})(),e.jsx(R,{size:"small",value:i,onChange:s=>o(t.key,!0,Number(s.target.value)),sx:{minWidth:72,ml:2,marginLeft:1},"data-testid":`skill-level-select-${t.key}`,children:Array.from({length:t.maxLevel},(s,d)=>d+1).map(s=>e.jsxs(A,{value:s,"data-testid":`skill-level-item-${t.key}-${s}`,children:["Lv",s]},s))})]})]})},Wt=({skills:t,selectedSkills:n,setSelectedSkills:o})=>{const r=(i,s,d)=>{if(s){const l=t.find(c=>c.key===i);if(!l)return;const p=l.skillLevels[d-1];if(!p)return;o([...n.filter(c=>c.key!==i),{key:i,level:d,skillData:p.skillBonuses}])}else o(n.filter(l=>l.key!==i))};return e.jsx(we,{children:t.map(i=>{var l;const s=n.find(p=>p.key===i.key),d=s?{key:s.key,level:s.level,skillData:((l=i.skillLevels[s.level-1])==null?void 0:l.skillBonuses)||[]}:void 0;return e.jsx(zt,{skill:{key:i.key,label:i.label,maxLevel:i.maxLevel,skillLevels:i.skillLevels},selectedSkill:d,setSelectedSkill:r},i.key)})})},Ot=({skillCategories:t,skillCategoryLabels:n,skillTab:o,setSkillTab:r,skillsByCategory:i,selectedSkills:s,setSelectedSkills:d})=>e.jsxs(C,{sx:{px:{xs:.5,sm:3},py:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:[e.jsx(v,{variant:"h6",sx:{mb:1},color:"text.primary",children:"スキル"}),e.jsx(ce,{value:o,onChange:(l,p)=>r(p),variant:"scrollable",scrollButtons:"auto",sx:{mb:1},children:t.map(l=>e.jsx(me,{label:n[l]||l},l))}),t.length>0&&i[t[o]]?e.jsx(Wt,{skills:i[t[o]].map(l=>({key:l.name,label:l.name,maxLevel:l.levels.length,skillLevels:l.levels})),selectedSkills:s,setSelectedSkills:d}):null]}),_t=({availableMotions:t,selectedMotions:n,setSelectedMotions:o})=>{const r=i=>{const s=n.some(d=>d.name===i.name);o(s?n.filter(d=>d.name!==i.name):[...n,i])};return e.jsx(de,{children:t.map(i=>e.jsxs(ue,{onClick:()=>r(i.motionData),disablePadding:!0,children:[e.jsx(je,{children:e.jsx(oe,{edge:"start",checked:n.some(s=>s.name===i.motionData.name),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":`motion-checkbox-${i.key}`}})}),e.jsx(ie,{id:`motion-checkbox-${i.key}`,primary:i.label})]},i.key))})},$t=({availableMotions:t,selectedMotions:n,setSelectedMotions:o})=>e.jsxs(Te,{defaultExpanded:!1,sx:{bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:[e.jsx(Ce,{expandIcon:e.jsx(Be,{}),children:e.jsx(v,{variant:"h6",color:"text.primary",sx:{m:0},children:"モーション"})}),e.jsx(Ve,{children:e.jsx(_t,{availableMotions:t,selectedMotions:n,setSelectedMotions:o})})]}),Jt=({availableMonsters:t,selectedMonster:n,setSelectedMonster:o})=>{const r=i=>{const s=t.find(d=>d.name===i)||null;o(s)};return e.jsxs(P,{fullWidth:!0,children:[e.jsx(D,{id:"monster-select-label",children:"モンスター"}),e.jsxs(R,{labelId:"monster-select-label",value:(n==null?void 0:n.name)||"",label:"モンスター",onChange:i=>r(i.target.value),children:[e.jsx(A,{value:"",children:e.jsx("em",{children:"モンスターを選択"})}),t.map(i=>e.jsx(A,{value:i.name,children:i.name},i.name))]})]})},Gt=()=>{const t=kt();return e.jsxs(C,{sx:{maxWidth:700,mx:"auto",my:4},children:[e.jsx(yt,{onOpenPresetDialog:()=>t.setPresetDialogOpen(!0)}),e.jsx(St,{open:t.presetDialogOpen,onClose:()=>t.setPresetDialogOpen(!1),currentPreset:{weaponInfo:t.weaponInfo,selectedSkills:t.selectedSkills,selectedMotions:t.selectedMotions,selectedMonster:t.selectedMonster,sharpness:t.sharpness},onLoad:t.handleLoadPreset}),e.jsxs(_,{spacing:3,children:[e.jsx(Nt,{weapon:t.weaponInfo,setWeapon:t.setWeaponInfo,sharpnessColor:t.sharpness,setSharpnessColor:t.setSharpness}),e.jsx(Ot,{skillCategories:t.skillCategories,skillCategoryLabels:ot,skillTab:t.skillTab,setSkillTab:t.setSkillTab,skillsByCategory:he,selectedSkills:t.selectedSkills,setSelectedSkills:t.setSelectedSkills}),e.jsx($t,{availableMotions:t.availableMotions.map((n,o)=>({key:`${n.name}_${o}`,label:n.name,motionData:n})),selectedMotions:t.selectedMotions,setSelectedMotions:t.setSelectedMotions}),e.jsx(C,{sx:{px:{xs:.5,sm:3},py:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:e.jsx(Jt,{availableMonsters:t.MONSTER_LIST,selectedMonster:t.selectedMonster,setSelectedMonster:t.setSelectedMonster})}),e.jsx(bt,{onClick:t.handleCalculateDamage,errorMessage:t.errorMessage}),e.jsx(Rt,{tabIndex:t.tabIndex,setTabIndex:t.setTabIndex,results:t.results,onDeleteHistory:n=>{t.setResults(o=>o.filter((r,i)=>i!==n)),t.setTabIndex(0)}})]})]})},Ut=()=>e.jsx("div",{className:"App",children:e.jsx(Gt,{})});xe.createRoot(document.getElementById("root")).render(e.jsx(T.StrictMode,{children:e.jsx(Ut,{})}));
